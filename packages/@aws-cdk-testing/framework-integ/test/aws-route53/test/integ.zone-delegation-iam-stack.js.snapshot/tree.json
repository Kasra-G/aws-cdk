{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"ZoneDelegationStack":{"id":"ZoneDelegationStack","path":"ZoneDelegationStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"ParentZone":{"id":"ParentZone","path":"ZoneDelegationStack/ParentZone","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/ParentZone/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"uniqueexample.com."}}}}},"ZoneDelegationRole":{"id":"ZoneDelegationRole","path":"ZoneDelegationStack/ZoneDelegationRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*","*"]},"children":{"ImportZoneDelegationRole":{"id":"ImportZoneDelegationRole","path":"ZoneDelegationStack/ZoneDelegationRole/ImportZoneDelegationRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}},"Resource":{"id":"Resource","path":"ZoneDelegationStack/ZoneDelegationRole/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"ArnLike":{"aws:PrincipalArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/ZoneDelegationStack-*"]]}}},"Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}}}],"Version":"2012-10-17"},"roleName":"ExampleDelegationRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZoneDelegationStack/ZoneDelegationRole/DefaultPolicy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/ZoneDelegationRole/DefaultPolicy/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"route53:ChangeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["NS"],"route53:ChangeResourceRecordSetsActions":["UPSERT","DELETE"],"route53:ChangeResourceRecordSetsNormalizedRecordNames":["sub1.uniqueexample.com","sub2.uniqueexample.com"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/",{"Ref":"ParentZoneECA3B259"}]]}},{"Action":"route53:ListHostedZonesByName","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ZoneDelegationRoleDefaultPolicy2187EBE7","roles":[{"Ref":"ZoneDelegationRoleD3AA833E"}]}}}}}}},"SubZone1":{"id":"SubZone1","path":"ZoneDelegationStack/SubZone1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZone1/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"sub1.uniqueexample.com."}}},"ZoneDelegation":{"id":"ZoneDelegation","path":"ZoneDelegationStack/SubZone1/ZoneDelegation","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"cross-account-zone-delegation-handler-role":{"id":"cross-account-zone-delegation-handler-role","path":"ZoneDelegationStack/SubZone1/ZoneDelegation/cross-account-zone-delegation-handler-role","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*"]},"children":{"PolicyZoneDelegationStackSubZone1ZoneDelegationcrossaccountzonedelegationhandlerrole3B7BF93F":{"id":"PolicyZoneDelegationStackSubZone1ZoneDelegationcrossaccountzonedelegationhandlerrole3B7BF93F","path":"ZoneDelegationStack/SubZone1/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZone1ZoneDelegationcrossaccountzonedelegationhandlerrole3B7BF93F","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZone1/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZone1ZoneDelegationcrossaccountzonedelegationhandlerrole3B7BF93F/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ZoneDelegationRoleD3AA833E","Arn"]}}],"Version":"2012-10-17"},"policyName":"PolicyZoneDelegationStackSubZone1ZoneDelegationcrossaccountzonedelegationhandlerrole3B7BF93F","roles":[{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::GetAtt":["CustomCrossAccountZoneDelegationCustomResourceProviderRoleED64687B","Arn"]}]}]}]}]}]}}}}}}},"CrossAccountZoneDelegationCustomResource":{"id":"CrossAccountZoneDelegationCustomResource","path":"ZoneDelegationStack/SubZone1/ZoneDelegation/CrossAccountZoneDelegationCustomResource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ZoneDelegationStack/SubZone1/ZoneDelegation/CrossAccountZoneDelegationCustomResource/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"ZoneDelegationStack/LatestNodeRuntimeMap","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Custom::CrossAccountZoneDelegationCustomResourceProvider":{"id":"Custom::CrossAccountZoneDelegationCustomResourceProvider","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider/Staging","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Role":{"id":"Role","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider/Role","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Handler":{"id":"Handler","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider/Handler","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"SubZone2":{"id":"SubZone2","path":"ZoneDelegationStack/SubZone2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZone2/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"sub2.uniqueexample.com."}}},"ZoneDelegation":{"id":"ZoneDelegation","path":"ZoneDelegationStack/SubZone2/ZoneDelegation","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"cross-account-zone-delegation-handler-role":{"id":"cross-account-zone-delegation-handler-role","path":"ZoneDelegationStack/SubZone2/ZoneDelegation/cross-account-zone-delegation-handler-role","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*"]},"children":{"PolicyZoneDelegationStackSubZone2ZoneDelegationcrossaccountzonedelegationhandlerrole36D1478D":{"id":"PolicyZoneDelegationStackSubZone2ZoneDelegationcrossaccountzonedelegationhandlerrole36D1478D","path":"ZoneDelegationStack/SubZone2/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZone2ZoneDelegationcrossaccountzonedelegationhandlerrole36D1478D","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZone2/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZone2ZoneDelegationcrossaccountzonedelegationhandlerrole36D1478D/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ZoneDelegationRoleD3AA833E","Arn"]}}],"Version":"2012-10-17"},"policyName":"PolicyZoneDelegationStackSubZone2ZoneDelegationcrossaccountzonedelegationhandlerrole36D1478D","roles":[{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::GetAtt":["CustomCrossAccountZoneDelegationCustomResourceProviderRoleED64687B","Arn"]}]}]}]}]}]}}}}}}},"CrossAccountZoneDelegationCustomResource":{"id":"CrossAccountZoneDelegationCustomResource","path":"ZoneDelegationStack/SubZone2/ZoneDelegation/CrossAccountZoneDelegationCustomResource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ZoneDelegationStack/SubZone2/ZoneDelegation/CrossAccountZoneDelegationCustomResource/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZoneDelegationStack/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZoneDelegationStack/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"ZoneDelegationIam":{"id":"ZoneDelegationIam","path":"ZoneDelegationIam","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"ZoneDelegationIam/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"ZoneDelegationIam/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"ZoneDelegationIam/DefaultTest/DeployAssert","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"ZoneDelegationIam/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZoneDelegationIam/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}